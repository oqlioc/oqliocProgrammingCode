서비스 찾기
ec2
인스턴스 시작
센토스
마켓
마켓버전선택
완료
프리티어 선택 다음

인스턴스 세부 정보 구성
1장 다음
종료 시 삭제 체크
태그 다음
보안 그룹 구성

유형 SSH 
소스 내 IP

규칙추가
유형 http
소스 무관

키페어생성 새로생성 이름 컴터이름 설정

다음 고정 IP설정
탄약적IP 메뉴
새주소 할당
작업 주소 연결
인스턴스 선택
탄력적IP에 인스턴스 메뉴 확인
//그냥 세팅 됐는지 확인용

탄력적IP 복사
탄력적 IP이름으로 폴더 생성
깃 bash 다운로드
오른클릭 후 git bash here 클릭후 명령어 입력
ssh -i "XXX.pem" centos@탄력적IP
sudo su : root로 진입
cd /
sudo adduser "유저이름" : 유저 생성
cd home : 새로 생성된 유저의 디렉터리로 접속
sudo passwd "유저이름" : 패스워드 설정
su "유저이름" : root에서 만든 유저로 접속
pwd : 현재 디렉토리 보기
mkdir .ssh : ".ssh" 폴더생성
chmod 700 .ssh : 폴더에 권한 부여
cd .ssh
touch authorized_keys
chmod 600 authorized_keys : 파일에 권한 부여
ssh-keygen : 뭐 나오면 엔터갈겨
vi id_rea.pub : 해당 파일 내용 복사
vi authorized_kets
아까 복사한 내용 붙여넣기 저장
vi id_rse : 해당 파일 내용 복사
윈도우 내에 만들어 놓은 ip 폴더에서 다시 깃bash 또 킨다
touch 유저명.pen //해당 파일 생성
유저명.pen 메모장으로 연다
복사한 내용 붙여넣기 저장한다

깃배시 접속  nginx 사용하기
ssh -i "XXX.pem" centos@탄력적IP : (센토스 접속)
sudo su : 관리자 권한으로 변경
cd /
cd /etc/yum.repos.d/
vi nginx.repo 파일내에

[nginx]
name=Nginx Repository
baseurl=http://nginx.org/packages/centos/7/$basearch/
gpgcheck=0
enabled=1

복붙해서 넣는다

yum install nginx
cd /
yum install firewalld
-------------------------------------- aws에서 자동으로 해줌
(하지만 세팅하는게 맘편함)
systemctl start firewalld  :  (방화벽 설정)
systemctl enable firewalld

firewall-cmd --permanent --zone=public --add-service-http
firewall-cmd --permanent --zone=public --add-service-https
 
-> 에러뜨면 마지막 -http를 =http로 바꿔라.
----------------------------------------

cd /etc/nginx/conf.d/default.conf

/usr/share/nginx/html/
로 되어있는것을 /home/"유저명"/
으로 변경

vi test.html : 만들어서 출력
브라우저에서 켜짐
----------------------------------------

systemctl start nginx
systemctl enable nginx

로컬 접속하면 창뜨는것 확인.

---------------------
[SFTP 설정]

ssh -i "유저명.pem" 유저명@탄력적IP : 접속
vscode 접속

<F1> 들어가서 sftp config 선택.
선택 후 
--
{
    "name": "이름",
    "host": "아이피", //탄력 IP
    "protocol": "sftp",
    "port": 22,
    "username": "유저네임",
    "remotePath": "/home/min", //나타나게 할 aws내의 폴더 디렉토리
    "privateKeyPath": ".vscode/min.pem", //pem 파일 디렉토리
    "ignore": [ //토큰이 같이 넘어가면 큰일나니 ignore 설정
        ".vscode",
        ".git",
        ".DS_Store"
    ],
    "uploadOnSave": true //저장하자마자 바로 업로드
}
--

★ 심미적 안정감을 위해 ★
.bash_history
.bash_logout 등
보이는게 싫으니, vscode 터미널로 접속하여 mkdir로 폴더 생성하여 
각각 프로젝트마다 다르게 폴더를 사용한다.

mkdir chatserver //폴더 생성
"remotePath": "/home/min/chatserver"
-> 이렇게 변경해주면 vscode에 chatserver 프로젝트의 파일만 보이게 된다. 


------------------------------------

SFTP <F1> 들어가서 sftp config 선택.
선택 후 
--
{
    "name": "aws_min",
    "host": "3.15.63.186", //탄력 IP
    "protocol": "sftp",
    "port": 22,
    "username": "min",
    "remotePath": "/home/min", //설정할 aws 폴더 디렉토리
    "privateKeyPath": ".vscode/min.pem", //pem 파일 디렉토리
    "ignore": [ //토큰이 같이 넘어가면 큰일나니 ignore 설정
        ".vscode",
        ".git",
        ".DS_Store"
    ],
    "uploadOnSave": true //저장하자마자 바로 업로드
}
--

.bash_history
.bash_logout 등
보이는게 싫으니, vscode 터미널로 접속하여 mkdir로 폴더 생성


